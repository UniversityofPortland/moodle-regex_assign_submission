define(["jquery","core/log"],function(a,b){function c(a,b){return function(){var c=b.prop("checked")&&!b.prop("disabled"),d=a.find("[name^=assignsubmission_fileregex_]").filter(":not([name=assignsubmission_fileregex_enabled])"),e=d.closest(".fcontainer > .fitem");c?e.show():e.hide()}}return{init:function(){var d=a("input[name=assignsubmission_fileregex_enabled]");if(!d)return void b.warn("File regex field not found.");var e=d.closest("form")[0];e||b.warn("Form not found.");var f=a(e),g=c(f,d);a("[name^=assignsubmission_file_]").on("change",function(){setTimeout(g,16)}),d.on("change",function(){g()}),g()}}});